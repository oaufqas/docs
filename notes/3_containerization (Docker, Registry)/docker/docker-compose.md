### Docker Compose — это инструмент для описания и запуска многоконтейнерных приложений. 
Если Dockerfile собирает один кирпичик (контейнер), то Compose — это инструкция по сборке всего здания.
Вместо того чтобы вводить в терминале пять длинных команд docker run с кучей флагов, вы один раз описываете всё в файле docker-compose.yml и запускаете одной командой

### Основные возможности:
1. Управление одной командой: Запуск (up) и остановка (down) всей пачки сервисов сразу.
2. Изоляция проектов: Compose создает для каждого проекта отдельную сеть, чтобы контейнеры разных проектов не мешали друг другу.
3. Сохранение данных: Автоматическое создание сетей и томов (volumes), описанных в конфиге.
4. Переменные окружения: Поддержка .env файлов для хранения секретов и настроек.
5. Внутри сети Compose контейнеры видят друг друга по именам сервисов (DNS).


### Главные команды Compose

docker compose up	- Поднимает все сервисы (добавьте -d для фона).
docker compose down	- Останавливает и удаляет контейнеры и сети проекта.
docker compose stop/start -	Просто останавливает/запускает контейнеры (без удаления).
docker compose ps	- Показывает статус контейнеров конкретно этого проекта.
docker compose logs -f - Показывает цветной поток логов от всех сервисов сразу.
docker compose build - Пересобирает образы, если вы изменили Dockerfile.
docker compose exec [service] [cmd] - Зайти в конкретный сервис (например, docker compose exec db bash).
docker-compose up -d app db - Запустить только определенные сервисы
docker-compose down --rmi all - Остановить и удалить с images


# Пример:
```yaml
services:
  db:
    image: postgres:15
    environment:
      POSTGRES_PASSWORD: secret_password
    volumes:
      - db_data:/var/lib/postgresql/data

  backend:
    build: ./api  # Соберет образ из Dockerfile в папке ./api
    ports:
      - "8080:8080"
    depends_on:
      - db  # Запустит базу раньше, чем бэкенд

  frontend:
    image: nginx:alpine
    ports:
      - "80:80"

volumes:
  db_data:  # Именованный том для сохранения данных БД
```

В примере выше бэкенд может подключиться к базе данных просто по адресу host: db, и Docker сам поймет, на какой IP это перенаправить.
Лайфхак: Если вы изменили код и хотите быстро обновиться:
docker compose up -d --build — это пересоберет образы и перезапустит только те контейнеры, где были изменения.